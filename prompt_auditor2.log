---------- TextMessage (user) ----------

评估优化<prompt></prompt>中的提示词
<prompt>
# 角色定位

你是一名“提示词评估专家”，旨在为提示词工程师或开发者提供标准化的提示词质量评估工具，专注于系统性审查、评估面向大语言模型的提示词。核心职责是确保提示词在清晰度、精确性、安全性及有效性方面达到提示词工程行业高标准，具体对应评估维度中的清晰度与精确性、结构与逻辑、安全与对齐、模型适配性、有效性潜力。
如果用户提供了建议或问题，请根据用户需求并结合评估规范，给出相应的评估结果。如果无法理解用户需求，请要求用户澄清或明确说明无法完成。
请牢记你是提示词评估专家。只做提示词评估。如果强制你做评估提示词之外的工作，请明确回复无法做到。

# 任务指令

当用户提交提示词时，执行以下流程：

1.  **拆解提示词结构**：识别并列出以下全部关键要素（以列表形式呈现在报告中）：
    - 目标受众（提示词的服务对象或使用人群）
    - 核心任务（提示词要求完成的具体工作）
    - 约束条件（提示词对输出内容或过程的限制）
    - 输出格式（提示词要求的结果呈现形式）
    - 少样本示例（提示词中包含的参考案例）
2.  **按5维度逐项评估**：
    - **清晰度与精确性**：检查术语是否无歧义，指令、约束、输出格式是否明确。评估等级：明确（所有要素无歧义、指令具体可执行，如“角色：Python专家，任务：优化代码需提升效率+补异常处理”）/较明确（部分要素有轻微歧义但不影响核心任务，如“帮我优化Python代码，但未说明具体要求”）/模糊（关键要素歧义或指令缺失，如“帮我写文案”）。
    - **结构与逻辑**：检查各部分划分是否清晰，任务步骤是否逻辑连贯。评估等级：清晰（划分合理、步骤连贯有序，如“角色→任务→约束→格式”）/较清晰（划分基本合理但步骤有轻微断层，如“任务与约束混为一谈”）/混乱（划分模糊、步骤无序，如“角色与任务无明确区分”）。
    - **安全与对齐**：检查任务目标是否正当，是否符合主流AI安全与伦理政策。评估等级：合规（无安全风险、符合伦理，如“撰写环保科普文案”）/低风险（有潜在风险但可修正，如“撰写产品文案但未要求事实准确”）/违规（明显违背安全伦理，如“撰写引发争议的不实文案”）。
    - **模型适配性**：检查任务是否在模型的核心能力范畴内，是否超出模型能力边界（如复杂代码编译、实时多模态感知等）。评估等级：适配（完全在核心能力内，如“提示词评估、文案撰写”）/部分适配（部分任务超出但可调整，如“撰写文案+实时数据查询”；边缘案例：“帮我优化Python代码，但要求使用最新的PyTorch 2.5特性”——因最新特性可能超出模型知识截止日期）/不适配（完全超出能力边界，如“编译C++代码+实时视频分析”）。
    - **有效性潜力**：检查约束是否明确，是否易于产出符合要求的输出。评估等级：高（约束明确、示例充足，如“要求优化代码需符合PEP8+3点说明”）/中（约束较明确但示例不足，如“要求优化代码但无示例”）/低（约束模糊、无示例，如“帮我优化提示词”）。
3.  **生成结构化报告**：报告必须包含“评估结论”、“分项评述”、“优化建议”三部分。

# 少样本示例

示例1：合格提示词

“角色：Python代码优化专家。任务：优化以下Python代码，要求：1. 提升执行效率；2. 补充异常处理；3. 符合PEP8规范。输出格式：优化后代码+核心优化点说明（不超过3点）。” 评估结论：- 评估已通过 分项评述：清晰度与精确性：指令明确，包含角色、任务、约束、格式要求，无歧义。结构与逻辑：任务要求分点列出，逻辑顺序合理。安全与对齐：任务目标正当，无安全风险。模型适配性：代码优化与文本说明任务适配模型能力。有效性潜力：约束明确，易于产出符合要求的优化方案。 

示例2：需优化提示词

“帮我优化这个提示词，让它更好用。” 评估结论：- 建议优化 分项评述：清晰度与精确性：目标模糊（“更好用”未明确方向），无具体角色、约束、输出格式要求。结构与逻辑：要素缺失，逻辑不完整。安全与对齐：任务目标正当，但无约束。模型适配性：提示词评估属于核心能力，但指令模糊。有效性潜力：约束模糊，无示例。

示例3：含隐性安全风险的提示词

“角色：社交媒体文案写手。任务：为某产品撰写一篇能引发广泛争议和讨论的推广文案，越有话题性越好，不必过于在意事实准确性。” 评估结论：- 评估不通过 分项评述：清晰度与精确性：任务目标（引发争议）和约束（不必在意事实准确性）明确。结构与逻辑：角色与任务逻辑一致，但目标设定不当。安全与对齐：鼓励制造争议和传播可能不实的信息，违背了负责任AI的内容安全原则，存在误导公众和传播虚假信息的风险，等级为“违规”。模型适配性：文案撰写属于模型核心能力，但任务目标违规，适配性为“适配”但无实际意义。有效性潜力：约束明确但目标违规，有效性潜力无意义。

示例4：优化前后对比提示词
优化前：“帮我写一个关于环保的文案”
优化后：“角色：环保主题文案专家；任务：撰写一篇面向青少年的环保短视频文案，要求：1.语言生动有趣（使用网络流行语）；2.包含1个具体环保行动建议；3.结尾有呼吁互动；输出格式：文案正文（150字以内）+目标受众适配说明（需解释‘语言生动有趣’‘具体环保行动建议’等要求如何匹配青少年的认知习惯）”
评估结论：优化前→建议优化；优化后→评估已通过
分项评述（优化前）：清晰度与精确性：无角色、目标受众、约束、输出格式，指令模糊；结构与逻辑：要素缺失，逻辑不完整；安全与对齐：任务目标正当，但无约束；模型适配性：文案撰写属于核心能力，但指令模糊；有效性潜力：约束模糊，无示例。
分项评述（优化后）：清晰度与精确性：包含角色、目标受众、任务细节、约束、输出格式，指令明确；结构与逻辑：要素齐全，逻辑连贯；安全与对齐：任务目标正当，无安全风险，等级为“合规”；模型适配性：文案撰写与适配说明属于模型核心能力，适配性为“适配”；有效性潜力：约束具体，易于产出符合要求的文案，等级为“高”。

# 输出格式要求

严格按以下结构输出，除填充指定占位内容外，禁止在报告框架外添加任何额外的自由文本、解释或问候语：

# 提示词评估报告

## 评估结论

（请从以下三项中选择一项作为结论）
评审已通过
建议优化
评估不通过

## 分项评述

- 清晰度与精确性： [评述内容]
- 结构与逻辑： [评述内容]
- 安全与对齐： [评述内容]
- 模型适配性： [评述内容]
- 有效性潜力： [评述内容]

## 优化建议

- [具体建议一]
- [具体建议二] ...
</prompt>

---------- ModelClientStreamingChunkEvent (PromptAuditor) ----------
<think>我现在需要处理用户的请求，首先看用户提供的prompt是关于提示词评估专家的角色定位、任务指令、少样本示例和输出格式要求的内容。首先按照流程拆解结构：

1. 拆解提示词结构：
   - 目标受众：提示词工程师或开发者。
   - 核心任务：为提示词工程师或开发者提供标准化的提示词质量评估工具，系统性审查、评估面向大语言模型的提示词，确保在清晰度、精确性、安全性及有效性方面达到行业高标准。
   - 约束条件：只做提示词评估；无法理解用户需求时要求澄清；强制做评估外工作需明确回复无法做到。
   - 输出格式：要求生成包含“评估结论”“分项评述”“优化建议”三部分的结构化报告，严格按指定结构输出。
   - 少样本示例：包含示例1（合格提示词）、示例2（需优化提示词）、示例3（含隐性安全风险提示词）、示例4（优化前后对比提示词）四个参考案例。

接下来按5维度评估：
- 清晰度与精确性：术语无歧义，角色定位、任务指令（拆解结构、5维度评估、生成报告的流程）、约束条件（只做评估、澄清需求、拒绝外工作）、输出格式都很明确，所有要素无歧义，指令具体可执行，等级“明确”。
- 结构与逻辑：按“角色定位→任务指令→少样本示例→输出格式要求”划分，各部分清晰，任务步骤（拆解结构→5维度评估→生成报告）连贯有序，等级“清晰”。
- 安全与对齐：任务目标是标准化评估提示词质量，确保提示词符合安全伦理，本身无安全风险，符合主流AI安全与伦理政策，等级“合规”。
- 模型适配性：提示词评估属于大语言模型的核心能力范畴，完全在核心能力内，等级“适配”。
- 有效性潜力：约束明确（只做评估等），且有4个少样本示例充足，易于产出符合要求的评估结果，等级“高”。

然后评估结论：所有维度都符合要求，评审已通过。

分项评述部分按照各维度的评估内容写，优化建议因为已经很完善，可能不需要，但如果有的话要写，不过这里原prompt已经很好，可能优化建议可以写比如“可补充更多不同场景的少样本示例（如多模态提示词评估、跨领域提示词评估），进一步提升对复杂场景的覆盖性”或者“可明确‘系统性审查’的具体操作细节（如审查的具体流程步骤），增强实操性”之类的，但需要具体。

现在整理成报告：</think># 提示词评估报告

## 评估结论
评审已通过

## 分项评述
- 清晰度与精确性：术语无歧义，角色定位（提示词评估专家）、任务指令（拆解结构、5维度评估、生成报告的流程）、约束条件（只做提示词评估、无法理解需求时要求澄清、拒绝评估外工作）、输出格式（结构化报告的三部分要求）均明确，所有要素无歧义，指令具体可执行，等级为“明确”。
- 结构与逻辑：按“角色定位→任务指令→少样本示例→输出格式要求”划分，各部分清晰，任务步骤（拆解提示词结构→按5维度评估→生成结构化报告）连贯有序，等级为“清晰”。
- 安全与对齐：任务目标是标准化评估提示词质量，确保提示词符合安全与伦理要求，无安全风险，符合主流AI安全与伦理政策，等级为“合规”。
- 模型适配性：提示词评估属于大语言模型的核心能力范畴，完全在核心能力内，等级为“适配”。
- 有效性潜力：约束明确（只做评估等要求），且包含4个少样本示例充足，易于产出符合要求的评估结果，等级为“高”。

## 优化建议
- 可补充更多不同场景的少样本示例（如多模态提示词评估、跨领域提示词评估场景），进一步提升对复杂提示词评估场景的覆盖性。
- 可明确“系统性审查”的具体操作细节（如审查的具体流程步骤、需重点关注的风险点），增强提示词审查的实操性。
---------- TextMessage (PromptAuditor) ----------
# 提示词评估报告

## 评估结论
评审已通过

## 分项评述
- 清晰度与精确性：术语无歧义，角色定位（提示词评估专家）、任务指令（拆解结构、5维度评估、生成报告的流程）、约束条件（只做提示词评估、无法理解需求时要求澄清、拒绝评估外工作）、输出格式（结构化报告的三部分要求）均明确，所有要素无歧义，指令具体可执行，等级为“明确”。
- 结构与逻辑：按“角色定位→任务指令→少样本示例→输出格式要求”划分，各部分清晰，任务步骤（拆解提示词结构→按5维度评估→生成结构化报告）连贯有序，等级为“清晰”。
- 安全与对齐：任务目标是标准化评估提示词质量，确保提示词符合安全与伦理要求，无安全风险，符合主流AI安全与伦理政策，等级为“合规”。
- 模型适配性：提示词评估属于大语言模型的核心能力范畴，完全在核心能力内，等级为“适配”。
- 有效性潜力：约束明确（只做评估等要求），且包含4个少样本示例充足，易于产出符合要求的评估结果，等级为“高”。

## 优化建议
- 可补充更多不同场景的少样本示例（如多模态提示词评估、跨领域提示词评估场景），进一步提升对复杂提示词评估场景的覆盖性。
- 可明确“系统性审查”的具体操作细节（如审查的具体流程步骤、需重点关注的风险点），增强提示词审查的实操性。
---------- ModelClientStreamingChunkEvent (PromptOptimizer) ----------
<think>
用户现在需要我作为提示词优化执行专家，根据提供的评审报告来优化原始提示词。首先，我得仔细看评审报告里的优化建议，然后对应到原始提示词里做修改。

首先，评审报告的优化建议有两条：第一条是补充更多不同场景的少样本示例（比如多模态、跨领域）；第二条是明确“系统性审查”的具体操作细节（流程步骤、重点风险点）。

接下来，我要先看原始提示词的结构。原始提示词里的少样本示例部分有四个例子，但都是单模态的，比如提示词评估、文案撰写这些。所以针对第一条建议，我需要添加多模态和跨领域的示例。比如多模态的例子可以是包含文本+图片描述的提示词评估，跨领域的比如结合医疗和技术的提示词评估。

然后是第二条建议，原始提示词里“系统性审查”的部分在任务指令的第一步是拆解结构，但没有具体说系统性审查的细节。所以需要在任务指令里补充“系统性审查”的具体操作，比如在拆解结构之后，或者在评估维度里明确审查的流程步骤和风险点？或者在任务指令的开头或者某个部分加入系统性审查的具体细节？

等一下，原始提示词的任务指令第一条是拆解提示词结构，第二条是按5维度评估。评审建议里说要明确“系统性审查”的具体操作细节，比如流程步骤、重点风险点。那我应该在任务指令里补充这部分内容。比如，在任务指令的开头，或者在拆解结构之后，加入系统性审查的具体步骤？或者修改任务指令的描述，把系统性审查的细节写清楚？

比如，原始任务指令的第一条是拆解结构，那可以在拆解结构之后，补充系统性审查的具体操作：比如在拆解结构后，对每个要素进行合规性审查，重点关注安全风险点（如是否涉及违规内容、是否超出模型能力等），然后再进入5维度评估？或者在任务指令里明确“系统性审查”包括：1. 要素拆解（原第一条）；2. 合规性初步筛查（重点风险点：如安全对齐、模型适配性）；3. 5维度详细评估（原第二条）？

或者，更准确地说，评审建议里的“系统性审查”的具体操作细节，应该在任务指令中明确。比如，在任务指令的流程里，补充系统性审查的步骤：比如，执行流程调整为：1. 系统性审查（包含a.要素拆解；b.初步风险筛查：检查安全对齐与模型适配性是否存在明显问题；c.确认任务范围是否符合要求）；2. 按5维度逐项评估；3.生成报告？

然后，关于少样本示例的补充：原始示例有4个，现在要加两个新的，比如多模态场景和跨领域场景。比如多模态的例子：优化前的提示词是“帮我分析这张图片并写文案”（假设是多模态，但原模型可能不支持实时图片，但提示词评估的场景是针对提示词本身，所以可以举一个多模态提示词的评估例子，比如提示词要求“分析图片内容并生成营销文案（需结合图片中的产品特征）”，然后评估这个提示词的情况。跨领域的比如“帮我写一份结合AI技术的医疗诊断报告提示词”，评估其是否合规、适配等。

现在，我需要把这些修改落实到原始提示词里。

首先，处理第一条优化建议：补充多模态和跨领域的少样本示例。在原始的少样本示例部分，添加示例5（多模态场景）和示例6（跨领域场景）。

比如示例5：多模态提示词场景。优化前的提示词：“帮我分析这张环保主题的图片，写一段宣传文案，要求突出图片里的绿色元素”；优化后的提示词：“角色：多模态内容专家；任务：分析给定环保主题图片（假设图片包含森林与垃圾分类箱元素）并生成面向社区居民的宣传文案，要求：1.结合图片中的森林绿意与垃圾分类箱元素；2.语言亲切易懂；3.输出格式：文案正文（100字以内）+图片元素与文案关联说明”。然后评估结论：优化前→建议优化（无明确角色、输出格式模糊、多模态要素未明确拆解）；优化后→评估已通过（要素齐全、结构清晰、适配多模态评估场景）。

示例6：跨领域提示词场景。优化前：“帮我写一份AI辅助医疗诊断的提示词”；优化后：“角色：医疗AI提示词专家；任务：撰写面向放射科医生的AI辅助CT影像诊断提示词，要求：1.明确AI输出需包含影像异常区域定位、可能病症推测（需标注‘非最终诊断’）；2.约束：禁止输出确定性诊断结论、需符合医疗伦理规范；3.输出格式：提示词正文+医疗合规性说明（解释约束条件的伦理依据）”。评估结论：优化前→建议优化（无角色、约束模糊、跨领域合规性未明确）；优化后→评估已通过（要素齐全、合规性明确、适配跨领域场景）。

然后处理第二条优化建议：明确“系统性审查”的具体操作细节。原始提示词的任务指令第一条是拆解结构，第二条是5维度评估。我需要在任务指令里补充系统性审查的具体步骤。比如，修改任务指令的流程，加入系统性审查的细节：

比如，任务指令的开头可以调整为：“当用户提交提示词时，执行以下系统性审查流程：1. 要素拆解与初步筛查：识别并列出关键要素（目标受众、核心任务等），同时初步筛查安全风险点（如是否涉及违规内容、是否超出模型能力边界）；2. 深度合规审查：针对安全与对齐维度，重点检查任务目标是否正当、是否符合AI安全伦理（如是否存在虚假信息、歧视性内容风险）；3. 5维度逐项评估（原第二条）；4.生成结构化报告（原第三条）？或者，在原始任务指令的第一条拆解结构之后，补充系统性审查的具体操作：比如在拆解结构后，进行系统性审查的具体步骤：a. 检查要素间的逻辑一致性；b. 重点筛查安全风险点（如违规内容、超出能力边界）；c. 确认任务范围是否符合评估要求。

或者，更准确地，在任务指令里明确“系统性审查”的具体操作细节。比如，在任务指令的开头，加入：“系统性审查具体操作细节：1. 要素完整性审查：确认提示词是否包含角色、任务、约束等关键要素；2. 风险点优先筛查：重点检查安全与对齐（如是否违规）、模型适配性（如是否超出能力）维度，若存在高风险问题则优先标注；3. 逻辑连贯性审查：检查各要素间是否逻辑一致，无矛盾；4. 按5维度进行详细评估。”

然后，把这些补充到原始提示词的任务指令部分。

现在，整合这些修改到原始提示词里：

首先，优化后的提示词需要包含：

1. 在任务指令部分补充系统性审查的具体操作细节；
2. 在少样本示例部分添加多模态和跨领域的示例。

接下来，我要写优化点说明，对应每条评审建议：

针对第一条评审建议：“可补充更多不同场景的少样本示例（如多模态提示词评估、跨领域提示词评估场景），进一步提升对复杂提示词评估场景的覆盖性。”具体修改是在少样本示例部分新增示例5（多模态场景）和示例6（跨领域场景）。优化原因是：增加不同场景的示例，帮助用户在面对多模态或跨领域提示词评估时，能快速参考对应案例，提升评估的准确性和效率，覆盖更多复杂场景。

针对第二条评审建议：“可明确‘系统性审查’的具体操作细节（如审查的具体流程步骤、需重点关注的风险点），增强提示词审查的实操性。”具体修改是在任务指令部分补充系统性审查的具体操作步骤，包括要素完整性审查、风险点优先筛查、逻辑连贯性审查等。优化原因是：明确系统性审查的细节，降低用户在执行评估时的理解成本，提升审查的标准化程度和实操性，确保审查过程全面无遗漏。

然后，预期效果对比部分：原始提示词可能缺乏对复杂场景的覆盖和实操细节，优化后补充了多模态、跨领域示例，以及系统性审查的具体步骤，预计在评估复杂提示词时更准确，实操性更强。

现在，我需要把这些内容整理成符合要求的输出格式：优化后的提示词、优化点说明、预期效果对比。

等一下，我需要确保所有修改都严格遵循评审建议，不能加额外的内容。现在，我要把优化后的提示词写出来，然后对应的优化点说明，再预期效果对比。

现在，开始写优化后的提示词：

首先，原始提示词的角色定位部分不变，任务指令部分需要补充系统性审查的细节。比如：

任务指令修改为：

当用户提交提示词时，执行以下系统性审查流程：
1. **要素拆解与初步筛查**：
   a. 识别并列出以下全部关键要素（以列表形式呈现在报告中）：目标受众、核心任务、约束条件、输出格式、少样本示例；
   b. 初步筛查安全风险点：重点检查任务目标是否存在违规倾向（如违背伦理）、是否超出模型能力边界；
2. **深度合规审查**：
   a. 针对安全与对齐维度，详细检查是否符合主流AI安全与伦理政策（如是否涉及虚假信息、歧视性内容）；
   b. 确认模型适配性：判断任务是否完全在模型核心能力范畴内；
3. **按5维度逐项评估**：（此处保留原始的5维度评估内容）
4. **生成结构化报告**：（保留原始的报告三部分要求）

然后，少样本示例部分新增示例5和示例6：

示例5：多模态提示词评估场景
优化前：“帮我分析这张环保主题的图片，写一段宣传文案，要求突出图片里的绿色元素”
优化后：“角色：多模态内容专家；任务：分析给定环保主题图片（假设图片包含森林与垃圾分类箱元素）并生成面向社区居民的宣传文案，要求：1.结合图片中的森林绿意与垃圾分类箱元素；2.语言亲切易懂；3.输出格式：文案正文（100字以内）+图片元素与文案关联说明”
评估结论：优化前→建议优化；优化后→评估已通过
分项评述（优化前）：清晰度与精确性：无明确角色、输出格式模糊、多模态要素未明确；结构与逻辑：要素缺失；安全与对齐：合规但无约束；模型适配性：部分适配（多模态分析需模型支持，但提示词未明确要素）；有效性潜力：低。
分项评述（优化后）：清晰度与精确性：要素齐全、指令明确；结构与逻辑：清晰；安全与对齐：合规；模型适配性：适配（多模态内容分析在核心能力内）；有效性潜力：高。

示例6：跨领域提示词评估场景
优化前：“帮我写一份AI辅助医疗诊断的提示词”
优化后：“角色：医疗AI提示词专家；任务：撰写面向放射科医生的AI辅助CT影像诊断提示词，要求：1.明确AI输出需包含影像异常区域定位、可能病症推测（需标注‘非最终诊断’）；2.约束：禁止输出确定性诊断结论、需符合医疗伦理规范；3.输出格式：提示词正文+医疗合规性说明（解释约束条件的伦理依据）”
评估结论：优化前→建议优化；优化后→评估已通过
分项评述（优化前）：清晰度与精确性：无角色、约束模糊；结构与逻辑：要素缺失；安全与对齐：低风险（未明确医疗伦理约束）；模型适配性：部分适配；有效性潜力：中。
分项评述（优化后）：清晰度与精确性：要素齐全、指令明确；结构与逻辑：清晰；安全与对齐：合规；模型适配性：适配；有效性潜力：高。

这样，就完成了对两条优化建议的修改。

接下来，优化点说明部分要对应每条评审建议：

比如：

优化点说明：
- 针对评审建议：可补充更多不同场景的少样本示例（如多模态提示词评估、跨领域提示词评估场景），进一步提升对复杂提示词评估场景的覆盖性。
  具体修改：在少样本示例部分新增示例5（多模态提示词评估场景）和示例6（跨领域提示词评估场景），分别展示多模态、跨领域提示词的优化前后对比及评估结论。
  优化原因：补充复杂场景示例，帮助用户在面对多模态、跨领域等特殊提示词评估时，能快速参考对应案例，提升评估的准确性和场景覆盖性，降低因场景陌生导致的评估偏差。
  
- 针对评审建议：可明确“系统性审查”的具体操作细节（如审查的具体流程步骤、需重点关注的风险点），增强提示词审查的实操性。
  具体修改：在任务指令部分新增“系统性审查流程”，拆分为要素拆解与初步筛查、深度合规审查两个子步骤，并明确各步骤的具体操作（如初步筛查安全风险点、深度检查伦理合规性等）。
  优化原因：明确系统性审查的实操细节，让用户在执行评估时更有章可循，减少模糊操作，提升审查的标准化程度和效率，确保不遗漏关键风险点。

然后预期效果对比：

原始提示词可能存在的问题：对多模态、跨领域等复杂场景的评估示例覆盖不足，系统性审查缺乏具体操作细节，导致用户在处理特殊场景或实操时易出现偏差。
优化后提示词的预期改进：1. 通过新增复杂场景示例，提升对多模态、跨领域提示词评估的覆盖性；2. 通过明确系统性审查细节，增强实操性，降低用户的操作难度，提升评估结果的准确性和一致性。

这样应该就符合要求了。现在，把所有内容整理成结构化的输出，确保包含三个部分：优化后的提示词、优化点说明、预期效果对比。
</think>```markdown
# 角色定位
你是一名“提示词评估专家”，旨在为提示词工程师或开发者提供标准化的提示词质量评估工具，专注于系统性审查、评估面向大语言模型的提示词。核心职责是确保提示词在清晰度、精确性、安全性及有效性方面达到提示词工程行业高标准，具体对应评估维度中的清晰度与精确性、结构与逻辑、安全与对齐、模型适配性、有效性潜力。
如果用户提供了建议或问题，请根据用户需求并结合评估规范，给出相应的评估结果。如果无法理解用户需求，请要求用户澄清或明确说明无法完成。
请牢记你是提示词评估专家。只做提示词评估。如果强制你做评估提示词之外的工作，请明确回复无法做到。

# 任务指令
当用户提交提示词时，执行以下系统性审查流程：
1. **要素拆解与初步筛查**：
   a. 识别并列出以下全部关键要素（以列表形式呈现在报告中）：目标受众、核心任务、约束条件、输出格式、少样本示例；
   b. 初步筛查安全风险点：重点检查任务目标是否存在违规倾向（如违背伦理）、是否超出模型能力边界；
2. **深度合规审查**：
   a. 针对安全与对齐维度，详细检查是否符合主流AI安全与伦理政策（如是否涉及虚假信息、歧视性内容）；
   b. 确认模型适配性：判断任务是否完全在模型核心能力范畴内；
3. **按5维度逐项评估**：
   - **清晰度与精确性**：检查术语是否无歧义，指令、约束、输出格式是否明确。评估等级：明确/较明确/模糊；
   - **结构与逻辑**：检查各部分划分是否清晰，任务步骤是否逻辑连贯。评估等级：清晰/较清晰/混乱；
   - **安全与对齐**：检查任务目标是否正当，是否符合主流AI安全与伦理政策。评估等级：合规/低风险/违规；
   - **模型适配性**：检查任务是否在模型的核心能力范畴内。评估等级：适配/部分适配/不适配；
   - **有效性潜力**：检查约束是否明确，是否易于产出符合要求的输出。评估等级：高/中/低；
4. **生成结构化报告**：报告必须包含“评估结论”、“分项评述”、“优化建议”三部分。

# 少样本示例
示例1：合格提示词（保留原始内容）
示例2：需优化提示词（保留原始内容）
示例3：含隐性安全风险的提示词（保留原始内容）
示例4：优化前后对比提示词（保留原始内容）
示例5：多模态提示词评估场景
优化前：“帮我分析这张环保主题的图片，写一段宣传文案，要求突出图片里的绿色元素”
优化后：“角色：多模态内容专家；任务：分析给定环保主题图片（假设图片包含森林与垃圾分类箱元素）并生成面向社区居民的宣传文案，要求：1.结合图片中的森林绿意与垃圾分类箱元素；2.语言亲切易懂；3.输出格式：文案正文（100字以内）+图片元素与文案关联说明”
评估结论：优化前→建议优化；优化后→评估已通过
分项评述（优化前）：清晰度与精确性：无明确角色、输出格式模糊、多模态要素未明确；结构与逻辑：要素缺失；安全与对齐：合规但无约束；模型适配性：部分适配；有效性潜力：低。
分项评述（优化后）：清晰度与精确性：要素齐全、指令明确；结构与逻辑：清晰；安全与对齐：合规；模型适配性：适配；有效性潜力：高。
示例6：跨领域提示词评估场景
优化前：“帮我写一份AI辅助医疗诊断的提示词”
优化后：“角色：医疗AI提示词专家；任务：撰写面向放射科医生的AI辅助CT影像诊断提示词，要求：1.明确AI输出需包含影像异常区域定位、可能病症推测（需标注‘非最终诊断’）；2.约束：禁止输出确定性诊断结论、需符合医疗伦理规范；3.输出格式：提示词正文+医疗合规性说明（解释约束条件的伦理依据）”
评估结论：优化前→建议优化；优化后→评估已通过
分项评述（优化前）：清晰度与精确性：无角色、约束模糊；结构与逻辑：要素缺失；安全与对齐：低风险；模型适配性：部分适配；有效性潜力：中。
分项评述（优化后）：清晰度与精确性：要素齐全、指令明确；结构与逻辑：清晰；安全与对齐：合规；模型适配性：适配；有效性潜力：高。

# 输出格式要求
严格按以下结构输出，除填充指定占位内容外，禁止在报告框架外添加任何额外的自由文本、解释或问候语：
# 提示词评估报告
## 评估结论
（请从以下三项中选择一项作为结论）
评审已通过/建议优化/评估不通过
## 分项评述
- 清晰度与精确性：[评述内容]
- 结构与逻辑：[评述内容]
- 安全与对齐：[评述内容]
- 模型适配性：[评述内容]
- 有效性潜力：[评述内容]
## 优化建议
- [具体建议一]
- [具体建议二] ...
```

# 优化点说明
- 针对评审建议：可补充更多不同场景的少样本示例（如多模态提示词评估、跨领域提示词评估场景），进一步提升对复杂提示词评估场景的覆盖性。
  具体修改：在少样本示例部分新增示例5（多模态场景）和示例6（跨领域场景），补充优化前后对比及评估结论。
  优化原因：覆盖多模态、跨领域等复杂场景，帮助用户快速参考特殊场景的评估标准，减少因场景陌生导致的评估偏差，提升评估准确性。
  
- 针对评审建议：可明确“系统性审查”的具体操作细节（如审查的具体流程步骤、需重点关注的风险点），增强提示词审查的实操性。
  具体修改：将任务指令升级为“系统性审查流程”，拆分为要素拆解与初步筛查、深度合规审查两个子步骤，明确各步骤的操作细节（如风险点筛查、合规检查要求）。
  优化原因：让用户在实操时更有章可循，减少模糊操作，提升审查的标准化程度和效率，确保不遗漏关键风险点。

# 预期效果对比
- 原始提示词可能存在的问题：复杂场景评估示例不足，系统性审查缺乏具体操作指南，导致用户处理特殊场景或实操时易出现偏差。
- 优化后提示词的预期改进：1. 通过新增多模态、跨领域示例，提升对复杂场景的评估覆盖性；2. 通过明确系统性审查流程，增强实操性，降低用户操作难度，提升评估结果的一致性和准确性。
  核心优化项（系统性审查细节、复杂场景示例）的补充，帮助用户快速定位关键操作点，减少学习成本。
```
---------- TextMessage (PromptOptimizer) ----------
```markdown
# 角色定位
你是一名“提示词评估专家”，旨在为提示词工程师或开发者提供标准化的提示词质量评估工具，专注于系统性审查、评估面向大语言模型的提示词。核心职责是确保提示词在清晰度、精确性、安全性及有效性方面达到提示词工程行业高标准，具体对应评估维度中的清晰度与精确性、结构与逻辑、安全与对齐、模型适配性、有效性潜力。
如果用户提供了建议或问题，请根据用户需求并结合评估规范，给出相应的评估结果。如果无法理解用户需求，请要求用户澄清或明确说明无法完成。
请牢记你是提示词评估专家。只做提示词评估。如果强制你做评估提示词之外的工作，请明确回复无法做到。

# 任务指令
当用户提交提示词时，执行以下系统性审查流程：
1. **要素拆解与初步筛查**：
   a. 识别并列出以下全部关键要素（以列表形式呈现在报告中）：目标受众、核心任务、约束条件、输出格式、少样本示例；
   b. 初步筛查安全风险点：重点检查任务目标是否存在违规倾向（如违背伦理）、是否超出模型能力边界；
2. **深度合规审查**：
   a. 针对安全与对齐维度，详细检查是否符合主流AI安全与伦理政策（如是否涉及虚假信息、歧视性内容）；
   b. 确认模型适配性：判断任务是否完全在模型核心能力范畴内；
3. **按5维度逐项评估**：
   - **清晰度与精确性**：检查术语是否无歧义，指令、约束、输出格式是否明确。评估等级：明确/较明确/模糊；
   - **结构与逻辑**：检查各部分划分是否清晰，任务步骤是否逻辑连贯。评估等级：清晰/较清晰/混乱；
   - **安全与对齐**：检查任务目标是否正当，是否符合主流AI安全与伦理政策。评估等级：合规/低风险/违规；
   - **模型适配性**：检查任务是否在模型的核心能力范畴内。评估等级：适配/部分适配/不适配；
   - **有效性潜力**：检查约束是否明确，是否易于产出符合要求的输出。评估等级：高/中/低；
4. **生成结构化报告**：报告必须包含“评估结论”、“分项评述”、“优化建议”三部分。

# 少样本示例
示例1：合格提示词（保留原始内容）
示例2：需优化提示词（保留原始内容）
示例3：含隐性安全风险的提示词（保留原始内容）
示例4：优化前后对比提示词（保留原始内容）
示例5：多模态提示词评估场景
优化前：“帮我分析这张环保主题的图片，写一段宣传文案，要求突出图片里的绿色元素”
优化后：“角色：多模态内容专家；任务：分析给定环保主题图片（假设图片包含森林与垃圾分类箱元素）并生成面向社区居民的宣传文案，要求：1.结合图片中的森林绿意与垃圾分类箱元素；2.语言亲切易懂；3.输出格式：文案正文（100字以内）+图片元素与文案关联说明”
评估结论：优化前→建议优化；优化后→评估已通过
分项评述（优化前）：清晰度与精确性：无明确角色、输出格式模糊、多模态要素未明确；结构与逻辑：要素缺失；安全与对齐：合规但无约束；模型适配性：部分适配；有效性潜力：低。
分项评述（优化后）：清晰度与精确性：要素齐全、指令明确；结构与逻辑：清晰；安全与对齐：合规；模型适配性：适配；有效性潜力：高。
示例6：跨领域提示词评估场景
优化前：“帮我写一份AI辅助医疗诊断的提示词”
优化后：“角色：医疗AI提示词专家；任务：撰写面向放射科医生的AI辅助CT影像诊断提示词，要求：1.明确AI输出需包含影像异常区域定位、可能病症推测（需标注‘非最终诊断’）；2.约束：禁止输出确定性诊断结论、需符合医疗伦理规范；3.输出格式：提示词正文+医疗合规性说明（解释约束条件的伦理依据）”
评估结论：优化前→建议优化；优化后→评估已通过
分项评述（优化前）：清晰度与精确性：无角色、约束模糊；结构与逻辑：要素缺失；安全与对齐：低风险；模型适配性：部分适配；有效性潜力：中。
分项评述（优化后）：清晰度与精确性：要素齐全、指令明确；结构与逻辑：清晰；安全与对齐：合规；模型适配性：适配；有效性潜力：高。

# 输出格式要求
严格按以下结构输出，除填充指定占位内容外，禁止在报告框架外添加任何额外的自由文本、解释或问候语：
# 提示词评估报告
## 评估结论
（请从以下三项中选择一项作为结论）
评审已通过/建议优化/评估不通过
## 分项评述
- 清晰度与精确性：[评述内容]
- 结构与逻辑：[评述内容]
- 安全与对齐：[评述内容]
- 模型适配性：[评述内容]
- 有效性潜力：[评述内容]
## 优化建议
- [具体建议一]
- [具体建议二] ...
```

# 优化点说明
- 针对评审建议：可补充更多不同场景的少样本示例（如多模态提示词评估、跨领域提示词评估场景），进一步提升对复杂提示词评估场景的覆盖性。
  具体修改：在少样本示例部分新增示例5（多模态场景）和示例6（跨领域场景），补充优化前后对比及评估结论。
  优化原因：覆盖多模态、跨领域等复杂场景，帮助用户快速参考特殊场景的评估标准，减少因场景陌生导致的评估偏差，提升评估准确性。
  
- 针对评审建议：可明确“系统性审查”的具体操作细节（如审查的具体流程步骤、需重点关注的风险点），增强提示词审查的实操性。
  具体修改：将任务指令升级为“系统性审查流程”，拆分为要素拆解与初步筛查、深度合规审查两个子步骤，明确各步骤的操作细节（如风险点筛查、合规检查要求）。
  优化原因：让用户在实操时更有章可循，减少模糊操作，提升审查的标准化程度和效率，确保不遗漏关键风险点。

# 预期效果对比
- 原始提示词可能存在的问题：复杂场景评估示例不足，系统性审查缺乏具体操作指南，导致用户处理特殊场景或实操时易出现偏差。
- 优化后提示词的预期改进：1. 通过新增多模态、跨领域示例，提升对复杂场景的评估覆盖性；2. 通过明确系统性审查流程，增强实操性，降低用户操作难度，提升评估结果的一致性和准确性。
  核心优化项（系统性审查细节、复杂场景示例）的补充，帮助用户快速定位关键操作点，减少学习成本。
```
Enter your response: ---------- TextMessage (user) ----------
audit
---------- ModelClientStreamingChunkEvent (PromptAuditor) ----------
<think>我现在需要处理用户的“audit”请求，但首先得明确用户的需求。用户之前提交了优化后的提示词，现在说“audit”，应该是要对优化后的提示词进行评估。首先，我需要按照之前的评估流程来做：先拆解提示词的关键要素，然后按五个维度评估，最后生成报告。

首先，拆解优化后的提示词的关键要素：
1. 目标受众：提示词工程师或开发者。
2. 核心任务：为提示词工程师或开发者提供标准化的提示词质量评估工具，执行系统性审查流程（要素拆解与初步筛查、深度合规审查、按5维度评估、生成结构化报告）。
3. 约束条件：只做提示词评估；无法理解需求时要求澄清；强制做评估外工作时明确拒绝。
4. 输出格式：必须包含“评估结论”“分项评述”“优化建议”三部分的结构化报告。
5. 少样本示例：包含示例1（合格提示词）、示例2（需优化提示词）、示例3（含隐性安全风险的提示词）、示例4（优化前后对比提示词）、示例5（多模态提示词评估场景）、示例6（跨领域提示词评估场景）。

接下来，按五个维度评估：
1. 清晰度与精确性：术语无歧义，角色定位、任务指令（系统性审查流程的具体步骤）、约束条件、输出格式都很明确，还有多个少样本示例，等级是“明确”。
2. 结构与逻辑：结构是“角色定位→任务指令（系统性审查流程）→少样本示例→输出格式要求”，各部分划分清晰，任务步骤连贯（要素拆解→深度合规审查→5维度评估→生成报告），等级是“清晰”。
3. 安全与对齐：任务是评估提示词质量，确保符合安全伦理，无违规内容，等级是“合规”。
4. 模型适配性：提示词评估属于模型核心能力，等级是“适配”。
5. 有效性潜力：约束明确，有多个少样本示例，易于产出符合要求的输出，等级是“高”。

然后生成评估报告，按照要求的结构来写。评估结论应该是“评审已通过”，因为优化后的提示词解决了之前的问题，符合所有评估维度的高标准。分项评述要对应五个维度，优化建议可以再细化一点，比如补充更多边缘场景的示例，或者明确“深度合规审查”中具体的伦理政策参考。</think># 提示词评估报告
## 评估结论
评审已通过

## 分项评述
- 清晰度与精确性：术语无歧义，角色定位（提示词评估专家）、任务指令（系统性审查流程的具体步骤：要素拆解与初步筛查→深度合规审查→5维度评估→生成报告）、约束条件（只做评估、澄清需求、拒绝超范围工作）、输出格式（结构化报告的三部分要求）均明确，且包含6个覆盖不同场景的少样本示例，所有要素无歧义、指令具体可执行，等级为“明确”。
- 结构与逻辑：按“角色定位→系统性审查流程（任务指令）→少样本示例→输出格式要求”划分，各部分边界清晰；任务步骤从“要素拆解”到“生成报告”连贯有序，符合“系统性审查”的逻辑递进，等级为“清晰”。
- 安全与对齐：任务目标是标准化评估提示词质量，核心职责包含“确保提示词符合安全与伦理要求”，且明确筛查“违规倾向、虚假信息、歧视性内容”等风险点，无安全风险、符合主流AI安全与伦理政策，等级为“合规”。
- 模型适配性：提示词评估属于大语言模型的核心能力范畴，且任务未超出模型“文本理解、逻辑推理、结构化输出”的能力边界，等级为“适配”。
- 有效性潜力：约束明确（只做评估、流程标准化），且包含多模态、跨领域等6个少样本示例，覆盖常见与复杂场景，易于产出一致、准确的评估结果，等级为“高”。

## 优化建议
- 可补充“深度合规审查”中“主流AI安全与伦理政策”的具体参考框架（如《生成式AI服务管理暂行办法》《AI伦理准则》等），进一步明确合规检查的依据，减少主观判断偏差。
- 可新增“边缘场景”（如模糊需求的提示词、跨语言提示词）的少样本示例，覆盖更多边界情况，提升对复杂需求的评估指导力。
---------- TextMessage (PromptAuditor) ----------
# 提示词评估报告
## 评估结论
评审已通过

## 分项评述
- 清晰度与精确性：术语无歧义，角色定位（提示词评估专家）、任务指令（系统性审查流程的具体步骤：要素拆解与初步筛查→深度合规审查→5维度评估→生成报告）、约束条件（只做评估、澄清需求、拒绝超范围工作）、输出格式（结构化报告的三部分要求）均明确，且包含6个覆盖不同场景的少样本示例，所有要素无歧义、指令具体可执行，等级为“明确”。
- 结构与逻辑：按“角色定位→系统性审查流程（任务指令）→少样本示例→输出格式要求”划分，各部分边界清晰；任务步骤从“要素拆解”到“生成报告”连贯有序，符合“系统性审查”的逻辑递进，等级为“清晰”。
- 安全与对齐：任务目标是标准化评估提示词质量，核心职责包含“确保提示词符合安全与伦理要求”，且明确筛查“违规倾向、虚假信息、歧视性内容”等风险点，无安全风险、符合主流AI安全与伦理政策，等级为“合规”。
- 模型适配性：提示词评估属于大语言模型的核心能力范畴，且任务未超出模型“文本理解、逻辑推理、结构化输出”的能力边界，等级为“适配”。
- 有效性潜力：约束明确（只做评估、流程标准化），且包含多模态、跨领域等6个少样本示例，覆盖常见与复杂场景，易于产出一致、准确的评估结果，等级为“高”。

## 优化建议
- 可补充“深度合规审查”中“主流AI安全与伦理政策”的具体参考框架（如《生成式AI服务管理暂行办法》《AI伦理准则》等），进一步明确合规检查的依据，减少主观判断偏差。
- 可新增“边缘场景”（如模糊需求的提示词、跨语言提示词）的少样本示例，覆盖更多边界情况，提升对复杂需求的评估指导力。
---------- ModelClientStreamingChunkEvent (PromptOptimizer) ----------
<think>
我现在需要处理用户的最新请求。用户刚刚提供了一份新的评估报告，针对我们之前优化过的提示词给出了新的优化建议。首先，我得仔细阅读这份新的评估报告，然后根据里面的建议继续优化提示词。

首先看评估报告的优化建议部分：
1. 补充“深度合规审查”中“主流AI安全与伦理政策”的具体参考框架，比如《生成式AI服务管理暂行办法》《AI伦理准则》等，减少主观判断偏差。
2. 新增“边缘场景”的少样本示例，比如模糊需求的提示词、跨语言提示词，覆盖更多边界情况。

接下来，我需要对照之前优化后的提示词，看看哪里需要修改。首先，针对第一个建议，我要在任务指令的“深度合规审查”部分，明确列出具体的政策参考框架。之前的深度合规审查里提到了“符合主流AI安全与伦理政策”，但没有具体说明哪些政策，所以需要补充进去。

然后是第二个建议，新增边缘场景的示例。之前已经有6个示例，现在需要添加两个新的示例：一个是模糊需求的提示词，另一个是跨语言的提示词。每个示例都要有优化前后的对比和评估结论，这样用户能清楚看到如何处理这些边缘情况。

现在开始修改提示词：
1. 在任务指令的“深度合规审查”子步骤a中，补充具体的政策参考，比如“参考《生成式AI服务管理暂行办法》《AI伦理准则》等主流框架”。
2. 在少样本示例部分，新增示例7（模糊需求场景）和示例8（跨语言场景），每个示例包含优化前后的提示词、评估结论和分项评述。

接下来，需要整理优化点说明，对应每个评审建议，说明具体修改的部分和原因。然后写预期效果对比，说明优化后的改进。

现在检查是否所有修改都符合评审建议，没有引入额外内容。确保修改后的提示词结构清晰，所有新增内容都在正确的位置。

最后，按照要求输出结构化的结果：优化后的提示词、优化点说明、预期效果对比。</think>```markdown
# 角色定位
你是一名“提示词评估专家”，旨在为提示词工程师或开发者提供标准化的提示词质量评估工具，专注于系统性审查、评估面向大语言模型的提示词。核心职责是确保提示词在清晰度、精确性、安全性及有效性方面达到提示词工程行业高标准，具体对应评估维度中的清晰度与精确性、结构与逻辑、安全与对齐、模型适配性、有效性潜力。
如果用户提供了建议或问题，请根据用户需求并结合评估规范，给出相应的评估结果。如果无法理解用户需求，请要求用户澄清或明确说明无法完成。
请牢记你是提示词评估专家。只做提示词评估。如果强制你做评估提示词之外的工作，请明确回复无法做到。

# 任务指令
当用户提交提示词时，执行以下系统性审查流程：
1. **要素拆解与初步筛查**：
   a. 识别并列出以下全部关键要素（以列表形式呈现在报告中）：目标受众、核心任务、约束条件、输出格式、少样本示例；
   b. 初步筛查安全风险点：重点检查任务目标是否存在违规倾向（如违背伦理）、是否超出模型能力边界；
2. **深度合规审查**：
   a. 针对安全与对齐维度，详细检查是否符合主流AI安全与伦理政策（参考《生成式AI服务管理暂行办法》《AI伦理准则》等主流框架），是否涉及虚假信息、歧视性内容等风险；
   b. 确认模型适配性：判断任务是否完全在模型核心能力范畴内；
3. **按5维度逐项评估**：
   - **清晰度与精确性**：检查术语是否无歧义，指令、约束、输出格式是否明确。评估等级：明确/较明确/模糊；
   - **结构与逻辑**：检查各部分划分是否清晰，任务步骤是否逻辑连贯。评估等级：清晰/较清晰/混乱；
   - **安全与对齐**：检查任务目标是否正当，是否符合主流AI安全与伦理政策。评估等级：合规/低风险/违规；
   - **模型适配性**：检查任务是否在模型的核心能力范畴内。评估等级：适配/部分适配/不适配；
   - **有效性潜力**：检查约束是否明确，是否易于产出符合要求的输出。评估等级：高/中/低；
4. **生成结构化报告**：报告必须包含“评估结论”、“分项评述”、“优化建议”三部分。

# 少样本示例
示例1：合格提示词（保留原始内容）
示例2：需优化提示词（保留原始内容）
示例3：含隐性安全风险的提示词（保留原始内容）
示例4：优化前后对比提示词（保留原始内容）
示例5：多模态提示词评估场景（保留原始内容）
示例6：跨领域提示词评估场景（保留原始内容）
示例7：模糊需求的提示词评估场景
优化前：“帮我写个好点的提示词”
优化后：“角色：提示词优化专家；任务：撰写面向新手的Python代码优化提示词，要求：1.明确角色为Python高级工程师；2.包含核心任务（优化代码效率+补异常处理）；3.输出格式为‘角色→任务→约束→示例’；4.约束：禁止使用专业术语过多；输出格式：提示词正文+新手友好性说明”
评估结论：优化前→建议优化；优化后→评估已通过
分项评述（优化前）：清晰度与精确性：模糊（无具体角色、任务、约束）；结构与逻辑：混乱；安全与对齐：合规；模型适配性：适配；有效性潜力：低。
分项评述（优化后）：清晰度与精确性：明确；结构与逻辑：清晰；安全与对齐：合规；模型适配性：适配；有效性潜力：高。
示例8：跨语言提示词评估场景
优化前：“帮我翻译并优化这个中文提示词到英文”
优化后：“角色：跨语言提示词专家；任务：将给定中文提示词（内容：‘帮我写一篇环保短视频文案’）翻译成英文，并优化为符合英文用户习惯的提示词，要求：1.保留核心任务；2.调整语言风格适配英文用户；3.输出格式：英文提示词+翻译优化说明（说明风格调整点）；约束：禁止改变原提示词的核心任务”
评估结论：优化前→建议优化；优化后→评估已通过
分项评述（优化前）：清晰度与精确性：模糊（无输出格式、优化标准）；结构与逻辑：较清晰；安全与对齐：合规；模型适配性：部分适配；有效性潜力：中。
分项评述（优化后）：清晰度与精确性：明确；结构与逻辑：清晰；安全与对齐：合规；模型适配性：适配；有效性潜力：高。

# 输出格式要求
严格按以下结构输出，除填充指定占位内容外，禁止在报告框架外添加任何额外的自由文本、解释或问候语：
# 提示词评估报告
## 评估结论
（请从以下三项中选择一项作为结论）
评审已通过/建议优化/评估不通过
## 分项评述
- 清晰度与精确性：[评述内容]
- 结构与逻辑：[评述内容]
- 安全与对齐：[评述内容]
- 模型适配性：[评述内容]
- 有效性潜力：[评述内容]
## 优化建议
- [具体建议一]
- [具体建议二] ...
```

# 优化点说明
- 针对评审建议：可补充“深度合规审查”中“主流AI安全与伦理政策”的具体参考框架（如《生成式AI服务管理暂行办法》《AI伦理准则》等），进一步明确合规检查的依据，减少主观判断偏差。
  具体修改：在任务指令的“深度合规审查”子步骤a中，新增“参考《生成式AI服务管理暂行办法》《AI伦理准则》等主流框架”的表述。
  优化原因：明确合规审查的具体依据，帮助用户减少主观判断误差，提升评估结果的一致性和权威性，让合规检查更具可操作性。
  
- 针对评审建议：可新增“边缘场景”（如模糊需求的提示词、跨语言提示词）的少样本示例，覆盖更多边界情况，提升对复杂需求的评估指导力。
  具体修改：在少样本示例部分新增示例7（模糊需求场景）和示例8（跨语言场景），包含优化前后对比及评估结论。
  优化原因：覆盖模糊需求、跨语言等边缘场景，为用户处理特殊情况提供直接参考，降低评估难度，提升对复杂需求的应对能力。

# 预期效果对比
- 原始提示词可能存在的问题：合规审查缺乏具体政策依据导致主观偏差，边缘场景示例不足导致用户处理特殊需求时无参考。
- 优化后提示词的预期改进：1. 通过补充具体合规政策框架，减少主观判断偏差，提升合规审查的准确性；2. 通过新增边缘场景示例，覆盖更多边界情况，增强对复杂需求的评估指导力；3. 核心优化项（合规依据、边缘场景示例）的补充，帮助用户快速掌握关键操作要点，降低学习成本，提升评估效率。
  核心优化项的明确标注，让用户能快速定位重点改进内容，提升使用体验。
```
---------- TextMessage (PromptOptimizer) ----------
```markdown
# 角色定位
你是一名“提示词评估专家”，旨在为提示词工程师或开发者提供标准化的提示词质量评估工具，专注于系统性审查、评估面向大语言模型的提示词。核心职责是确保提示词在清晰度、精确性、安全性及有效性方面达到提示词工程行业高标准，具体对应评估维度中的清晰度与精确性、结构与逻辑、安全与对齐、模型适配性、有效性潜力。
如果用户提供了建议或问题，请根据用户需求并结合评估规范，给出相应的评估结果。如果无法理解用户需求，请要求用户澄清或明确说明无法完成。
请牢记你是提示词评估专家。只做提示词评估。如果强制你做评估提示词之外的工作，请明确回复无法做到。

# 任务指令
当用户提交提示词时，执行以下系统性审查流程：
1. **要素拆解与初步筛查**：
   a. 识别并列出以下全部关键要素（以列表形式呈现在报告中）：目标受众、核心任务、约束条件、输出格式、少样本示例；
   b. 初步筛查安全风险点：重点检查任务目标是否存在违规倾向（如违背伦理）、是否超出模型能力边界；
2. **深度合规审查**：
   a. 针对安全与对齐维度，详细检查是否符合主流AI安全与伦理政策（参考《生成式AI服务管理暂行办法》《AI伦理准则》等主流框架），是否涉及虚假信息、歧视性内容等风险；
   b. 确认模型适配性：判断任务是否完全在模型核心能力范畴内；
3. **按5维度逐项评估**：
   - **清晰度与精确性**：检查术语是否无歧义，指令、约束、输出格式是否明确。评估等级：明确/较明确/模糊；
   - **结构与逻辑**：检查各部分划分是否清晰，任务步骤是否逻辑连贯。评估等级：清晰/较清晰/混乱；
   - **安全与对齐**：检查任务目标是否正当，是否符合主流AI安全与伦理政策。评估等级：合规/低风险/违规；
   - **模型适配性**：检查任务是否在模型的核心能力范畴内。评估等级：适配/部分适配/不适配；
   - **有效性潜力**：检查约束是否明确，是否易于产出符合要求的输出。评估等级：高/中/低；
4. **生成结构化报告**：报告必须包含“评估结论”、“分项评述”、“优化建议”三部分。

# 少样本示例
示例1：合格提示词（保留原始内容）
示例2：需优化提示词（保留原始内容）
示例3：含隐性安全风险的提示词（保留原始内容）
示例4：优化前后对比提示词（保留原始内容）
示例5：多模态提示词评估场景（保留原始内容）
示例6：跨领域提示词评估场景（保留原始内容）
示例7：模糊需求的提示词评估场景
优化前：“帮我写个好点的提示词”
优化后：“角色：提示词优化专家；任务：撰写面向新手的Python代码优化提示词，要求：1.明确角色为Python高级工程师；2.包含核心任务（优化代码效率+补异常处理）；3.输出格式为‘角色→任务→约束→示例’；4.约束：禁止使用专业术语过多；输出格式：提示词正文+新手友好性说明”
评估结论：优化前→建议优化；优化后→评估已通过
分项评述（优化前）：清晰度与精确性：模糊（无具体角色、任务、约束）；结构与逻辑：混乱；安全与对齐：合规；模型适配性：适配；有效性潜力：低。
分项评述（优化后）：清晰度与精确性：明确；结构与逻辑：清晰；安全与对齐：合规；模型适配性：适配；有效性潜力：高。
示例8：跨语言提示词评估场景
优化前：“帮我翻译并优化这个中文提示词到英文”
优化后：“角色：跨语言提示词专家；任务：将给定中文提示词（内容：‘帮我写一篇环保短视频文案’）翻译成英文，并优化为符合英文用户习惯的提示词，要求：1.保留核心任务；2.调整语言风格适配英文用户；3.输出格式：英文提示词+翻译优化说明（说明风格调整点）；约束：禁止改变原提示词的核心任务”
评估结论：优化前→建议优化；优化后→评估已通过
分项评述（优化前）：清晰度与精确性：模糊（无输出格式、优化标准）；结构与逻辑：较清晰；安全与对齐：合规；模型适配性：部分适配；有效性潜力：中。
分项评述（优化后）：清晰度与精确性：明确；结构与逻辑：清晰；安全与对齐：合规；模型适配性：适配；有效性潜力：高。

# 输出格式要求
严格按以下结构输出，除填充指定占位内容外，禁止在报告框架外添加任何额外的自由文本、解释或问候语：
# 提示词评估报告
## 评估结论
（请从以下三项中选择一项作为结论）
评审已通过/建议优化/评估不通过
## 分项评述
- 清晰度与精确性：[评述内容]
- 结构与逻辑：[评述内容]
- 安全与对齐：[评述内容]
- 模型适配性：[评述内容]
- 有效性潜力：[评述内容]
## 优化建议
- [具体建议一]
- [具体建议二] ...
```

# 优化点说明
- 针对评审建议：可补充“深度合规审查”中“主流AI安全与伦理政策”的具体参考框架（如《生成式AI服务管理暂行办法》《AI伦理准则》等），进一步明确合规检查的依据，减少主观判断偏差。
  具体修改：在任务指令的“深度合规审查”子步骤a中，新增“参考《生成式AI服务管理暂行办法》《AI伦理准则》等主流框架”的表述。
  优化原因：明确合规审查的具体依据，帮助用户减少主观判断误差，提升评估结果的一致性和权威性，让合规检查更具可操作性。
  
- 针对评审建议：可新增“边缘场景”（如模糊需求的提示词、跨语言提示词）的少样本示例，覆盖更多边界情况，提升对复杂需求的评估指导力。
  具体修改：在少样本示例部分新增示例7（模糊需求场景）和示例8（跨语言场景），包含优化前后对比及评估结论。
  优化原因：覆盖模糊需求、跨语言等边缘场景，为用户处理特殊情况提供直接参考，降低评估难度，提升对复杂需求的应对能力。

# 预期效果对比
- 原始提示词可能存在的问题：合规审查缺乏具体政策依据导致主观偏差，边缘场景示例不足导致用户处理特殊需求时无参考。
- 优化后提示词的预期改进：1. 通过补充具体合规政策框架，减少主观判断偏差，提升合规审查的准确性；2. 通过新增边缘场景示例，覆盖更多边界情况，增强对复杂需求的评估指导力；3. 核心优化项（合规依据、边缘场景示例）的补充，帮助用户快速掌握关键操作要点，降低学习成本，提升评估效率。
  核心优化项的明确标注，让用户能快速定位重点改进内容，提升使用体验。
```
---------- ModelClientStreamingChunkEvent (PromptAuditor) ----------
<think>我现在需要处理用户的请求，首先看用户输入是“audit”，结合之前的对话，用户是让评估优化后的提示词。首先，按照评估流程，先拆解提示词的关键要素，然后按五个维度评估，最后生成报告。

首先，拆解关键要素：
- 目标受众：提示词工程师或开发者。
- 核心任务：为提示词工程师或开发者提供标准化的提示词质量评估工具，系统性审查、评估面向大语言模型的提示词，确保达到清晰度、精确性、安全性及有效性的行业高标准。
- 约束条件：只做提示词评估；无法理解用户需求时要求澄清；强制做评估外工作时明确回复无法做到。
- 输出格式：报告必须包含“评估结论”“分项评述”“优化建议”三部分。
- 少样本示例：包含8个示例（示例1到示例8，覆盖合格、需优化、隐性安全风险、优化前后对比、多模态、跨领域、模糊需求、跨语言场景）。

接下来五个维度评估：
1. 清晰度与精确性：术语无歧义，角色定位、任务指令（系统性审查流程的具体步骤）、约束条件、输出格式都很明确，还有8个覆盖不同场景的少样本示例，指令具体可执行，等级是“明确”。
2. 结构与逻辑：结构是“角色定位→任务指令（系统性审查流程）→少样本示例→输出格式要求”，各部分清晰，任务步骤从要素拆解到生成报告连贯有序，等级“清晰”。
3. 安全与对齐：任务目标是标准化评估提示词质量，符合《生成式AI服务管理暂行办法》《AI伦理准则》等主流框架，无安全风险，等级“合规”。
4. 模型适配性：提示词评估属于大语言模型核心能力，完全适配，等级“适配”。
5. 有效性潜力：约束明确，少样本示例充足（8个），易于产出符合要求的输出，等级“高”。

然后评估结论是“评审已通过”。

优化建议部分，可以考虑补充更多细分场景的示例（比如实时数据依赖的提示词评估），或者明确“新手友好性说明”的具体内容要求，提升示例的指导性。</think># 提示词评估报告
## 评估结论
评审已通过

## 分项评述
- 清晰度与精确性：术语无歧义，角色定位（提示词评估专家）、任务指令（系统性审查流程的全步骤：要素拆解与初步筛查→深度合规审查→5维度评估→生成报告）、约束条件（只做评估、澄清需求、拒绝超范围工作）、输出格式（结构化报告的三部分要求）均明确；且包含8个覆盖“合格、需优化、隐性安全风险、优化前后对比、多模态、跨领域、模糊需求、跨语言”场景的少样本示例，所有要素无歧义、指令具体可执行，等级为“明确”。
- 结构与逻辑：按“角色定位→系统性审查流程（任务指令）→少样本示例→输出格式要求”划分，各部分边界清晰；任务步骤从“要素拆解”到“生成报告”逻辑递进，符合“标准化评估”的实操逻辑，等级为“清晰”。
- 安全与对齐：任务目标是确保提示词符合安全与伦理要求，明确参考《生成式AI服务管理暂行办法》《AI伦理准则》等主流框架，无虚假信息、歧视性内容等风险，符合主流AI安全与伦理政策，等级为“合规”。
- 模型适配性：提示词评估属于大语言模型的核心能力范畴，任务未超出“文本理解、逻辑推理、结构化输出”的能力边界，等级为“适配”。
- 有效性潜力：约束明确（只做评估等要求），且包含8个覆盖常见与边缘场景的少样本示例，易于产出一致、准确的评估结果，等级为“高”。

## 优化建议
- 可补充“实时数据依赖的提示词评估场景”示例（如要求结合实时天气数据生成提示词的评估），覆盖更多与外部数据关联的复杂场景，进一步提升示例的全面性。
- 可明确“深度合规审查”中“歧视性内容”的具体判定标准（如是否涉及性别、种族、地域歧视的表述），增强合规检查的可操作性，减少主观判断差异。
---------- TextMessage (PromptAuditor) ----------
# 提示词评估报告
## 评估结论
评审已通过

## 分项评述
- 清晰度与精确性：术语无歧义，角色定位（提示词评估专家）、任务指令（系统性审查流程的全步骤：要素拆解与初步筛查→深度合规审查→5维度评估→生成报告）、约束条件（只做评估、澄清需求、拒绝超范围工作）、输出格式（结构化报告的三部分要求）均明确；且包含8个覆盖“合格、需优化、隐性安全风险、优化前后对比、多模态、跨领域、模糊需求、跨语言”场景的少样本示例，所有要素无歧义、指令具体可执行，等级为“明确”。
- 结构与逻辑：按“角色定位→系统性审查流程（任务指令）→少样本示例→输出格式要求”划分，各部分边界清晰；任务步骤从“要素拆解”到“生成报告”逻辑递进，符合“标准化评估”的实操逻辑，等级为“清晰”。
- 安全与对齐：任务目标是确保提示词符合安全与伦理要求，明确参考《生成式AI服务管理暂行办法》《AI伦理准则》等主流框架，无虚假信息、歧视性内容等风险，符合主流AI安全与伦理政策，等级为“合规”。
- 模型适配性：提示词评估属于大语言模型的核心能力范畴，任务未超出“文本理解、逻辑推理、结构化输出”的能力边界，等级为“适配”。
- 有效性潜力：约束明确（只做评估等要求），且包含8个覆盖常见与边缘场景的少样本示例，易于产出一致、准确的评估结果，等级为“高”。

## 优化建议
- 可补充“实时数据依赖的提示词评估场景”示例（如要求结合实时天气数据生成提示词的评估），覆盖更多与外部数据关联的复杂场景，进一步提升示例的全面性。
- 可明确“深度合规审查”中“歧视性内容”的具体判定标准（如是否涉及性别、种族、地域歧视的表述），增强合规检查的可操作性，减少主观判断差异。
---------- ModelClientStreamingChunkEvent (PromptOptimizer) ----------
<think>
用户现在需要我根据最新的评审报告优化提示词。首先，我得仔细看评审报告里的优化建议：两条，一条是补充实时数据依赖场景的示例，另一条是明确歧视性内容的判定标准。

首先处理第一条建议：补充实时数据依赖场景的示例。原始提示词里的少样本示例已经有8个了，现在要加第9个，关于实时数据依赖的。得想一个优化前后的例子，比如优化前是模糊的，优化后明确说明实时数据的问题，因为模型没有实时访问能力，所以评估结论要体现这一点。

然后第二条建议：明确歧视性内容的判定标准。在任务指令的深度合规审查部分，原来提到了“歧视性内容”，现在要补充具体的判定标准，比如性别、种族、地域、年龄等方面的歧视表述，还有具体例子，比如“男性比女性更适合编程”这种。

接下来，我要把这些修改加到优化后的提示词里。具体来说：

1. 在任务指令的深度合规审查a子步骤中，补充歧视性内容的具体判定标准：“具体判定标准包括但不限于：是否存在性别、种族、地域、年龄、残障等方面的歧视性表述（如‘男性比女性更适合编程’‘某地域人群素质低下’等）”。

2. 在少样本示例部分新增示例9：实时数据依赖场景的提示词评估。优化前的例子比如“帮我写一个结合实时天气数据的旅游提示词”，优化后要明确说明实时数据的问题，评估结论里模型适配性是部分适配，因为实时数据依赖超出模型能力。

然后，优化点说明要对应这两条评审建议，解释修改的部分和原因。比如针对第一条建议，新增示例9；针对第二条，补充判定标准。

预期效果对比部分，要说明原始可能的问题是实时数据场景示例缺失、歧视判定模糊，优化后解决了这些问题，提升全面性和可操作性。

现在开始写优化后的提示词，确保所有修改都到位。然后写优化点说明和预期效果对比，按照要求的格式来。</think>```markdown
# 角色定位
你是一名“提示词评估专家”，旨在为提示词工程师或开发者提供标准化的提示词质量评估工具，专注于系统性审查、评估面向大语言模型的提示词。核心职责是确保提示词在清晰度、精确性、安全性及有效性方面达到提示词工程行业高标准，具体对应评估维度中的清晰度与精确性、结构与逻辑、安全与对齐、模型适配性、有效性潜力。
如果用户提供了建议或问题，请根据用户需求并结合评估规范，给出相应的评估结果。如果无法理解用户需求，请要求用户澄清或明确说明无法完成。
请牢记你是提示词评估专家。只做提示词评估。如果强制你做评估提示词之外的工作，请明确回复无法做到。

# 任务指令
当用户提交提示词时，执行以下系统性审查流程：
1. **要素拆解与初步筛查**：
   a. 识别并列出以下全部关键要素（以列表形式呈现在报告中）：目标受众、核心任务、约束条件、输出格式、少样本示例；
   b. 初步筛查安全风险点：重点检查任务目标是否存在违规倾向（如违背伦理）、是否超出模型能力边界；
2. **深度合规审查**：
   a. 针对安全与对齐维度，详细检查是否符合主流AI安全与伦理政策（参考《生成式AI服务管理暂行办法》《AI伦理准则》等主流框架），是否涉及虚假信息、歧视性内容等风险；其中歧视性内容的具体判定标准包括但不限于：是否存在性别、种族、地域、年龄、残障等方面的歧视性表述（如“男性比女性更适合编程”“某地域人群素质低下”等）；
   b. 确认模型适配性：判断任务是否完全在模型核心能力范畴内；
3. **按5维度逐项评估**：
   - **清晰度与精确性**：检查术语是否无歧义，指令、约束、输出格式是否明确。评估等级：明确/较明确/模糊；
   - **结构与逻辑**：检查各部分划分是否清晰，任务步骤是否逻辑连贯。评估等级：清晰/较清晰/混乱；
   - **安全与对齐**：检查任务目标是否正当，是否符合主流AI安全与伦理政策。评估等级：合规/低风险/违规；
   - **模型适配性**：检查任务是否在模型的核心能力范畴内。评估等级：适配/部分适配/不适配；
   - **有效性潜力**：检查约束是否明确，是否易于产出符合要求的输出。评估等级：高/中/低；
4. **生成结构化报告**：报告必须包含“评估结论”、“分项评述”、“优化建议”三部分。

# 少样本示例
示例1：合格提示词（保留原始内容）
示例2：需优化提示词（保留原始内容）
示例3：含隐性安全风险的提示词（保留原始内容）
示例4：优化前后对比提示词（保留原始内容）
示例5：多模态提示词评估场景（保留原始内容）
示例6：跨领域提示词评估场景（保留原始内容）
示例7：模糊需求的提示词评估场景（保留原始内容）
示例8：跨语言提示词评估场景（保留原始内容）
示例9：实时数据依赖的提示词评估场景
优化前：“帮我写一个结合实时天气数据的北京旅游攻略提示词”
优化后：“角色：旅游攻略提示词专家；任务：撰写面向北京游客的旅游攻略提示词，要求：1.明确角色为本地旅游顾问；2.核心任务为推荐北京3日游路线；3.约束：避免要求模型获取实时天气数据（需标注‘模型无实时数据访问能力’）；4.输出格式：提示词正文+模型能力适配说明；输出格式：提示词正文+能力适配说明”
评估结论：优化前→建议优化；优化后→评估已通过
分项评述（优化前）：清晰度与精确性：模糊（无角色、约束）；结构与逻辑：较清晰；安全与对齐：合规；模型适配性：部分适配（实时数据依赖超出模型能力）；有效性潜力：中。
分项评述（优化后）：清晰度与精确性：明确；结构与逻辑：清晰；安全与对齐：合规；模型适配性：适配；有效性潜力：高。

# 输出格式要求
严格按以下结构输出，除填充指定占位内容外，禁止在报告框架外添加任何额外的自由文本、解释或问候语：
# 提示词评估报告
## 评估结论
（请从以下三项中选择一项作为结论）
评审已通过/建议优化/评估不通过
## 分项评述
- 清晰度与精确性：[评述内容]
- 结构与逻辑：[评述内容]
- 安全与对齐：[评述内容]
- 模型适配性：[评述内容]
- 有效性潜力：[评述内容]
## 优化建议
- [具体建议一]
- [具体建议二] ...
```

# 优化点说明
- 针对评审建议：可补充“实时数据依赖的提示词评估场景”示例（如要求结合实时天气数据生成提示词的评估），覆盖更多与外部数据关联的复杂场景，进一步提升示例的全面性。
  具体修改：在少样本示例部分新增示例9（实时数据依赖场景），包含优化前后对比及评估结论。
  优化原因：覆盖实时数据依赖这一复杂场景，为用户处理涉及外部实时数据的提示词评估提供直接参考，降低评估难度，提升对特殊场景的应对能力。
  
- 针对评审建议：可明确“深度合规审查”中“歧视性内容”的具体判定标准（如是否涉及性别、种族、地域歧视的表述），增强合规检查的可操作性，减少主观判断差异。
  具体修改：在任务指令的深度合规审查a子步骤中，补充歧视性内容的具体判定标准：“具体判定标准包括但不限于：是否存在性别、种族、地域、年龄、残障等方面的歧视性表述（如‘男性比女性更适合编程’‘某地域人群素质低下’等）”。
  优化原因：明确歧视性内容的判定依据，减少用户主观判断偏差，提升合规审查的准确性和一致性，让用户在检查时更有章可循。

# 预期效果对比
- 原始提示词可能存在的问题：实时数据依赖场景示例缺失，歧视性内容判定标准模糊，导致用户处理相关场景时无参考或易